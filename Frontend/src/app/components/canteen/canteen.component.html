<!-- <div class="container">
    <h2>Canteen Menu</h2>
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>Item ID</th>
          <th>Counter</th>
          <th>Item Name</th>
          <th>Price </th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of items">
          <td>{{ item.itemId }}</td>
          <td>{{ item.counter }}</td>
          <td>{{ item.itemName }}</td>
          <td>{{ item.price }}</td>
          <td>
            <button class="btn btn-warning btn-sm me-2" (click)="editItem(item)">Edit</button>
            <button class="btn btn-info btn-sm me-2" (click)="viewItem(item)">View</button>
            <button class="btn btn-danger btn-sm me-2" (click)="deleteItem(item)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div *ngIf="selectedItem" class="edit-form mt-4 p-3 border rounded">
    <h3>Edit Canteen Item</h3>
    <form  (ngSubmit)="updateItem()">

      <div class="mb-2">
        <label>Counter:</label>
        <select class="form-control" [(ngModel)]="selectedItem.counter"  name="counter">
          <option value="A">A</option>
          <option value="B">B</option>
          <option value="C">C</option>
          <option value="D">D</option>
        </select>
      </div>
      <div class="mb-2">
        <label>Item Name:</label>
        <input type="text" class="form-control" [(ngModel)]="selectedItem.itemName"  name="itemName" required />
      </div>
      <div class="mb-2">
        <label>Price (rupees):</label>
        <input type="number" class="form-control" [(ngModel)]="selectedItem.price"   name="price" required />
      </div>
      <button type="submit" class="btn btn-success btn-sm">Update</button>
     
    </form>
  </div> -->




<!-- 
  <div class="container">
    <h2>Canteen Menu</h2>
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>Item ID</th>
          <th>Counter</th>
          <th>Item Name</th>
          <th>Price</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of items">
          <td>{{ item.itemId }}</td>
          <td>{{ item.counter }}</td>
          <td>{{ item.itemName }}</td>
          <td>{{ item.price }}</td>
          <td>
            <button class="btn btn-warning btn-sm me-2" (click)="editItem(item)">Edit</button>
            <button class="btn btn-info btn-sm me-2" (click)="viewItem(item)">View</button>
            <button class="btn btn-danger btn-sm me-2" (click)="deleteItem(item)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

<div *ngIf="selectedItem" class="edit-form mt-4 p-3 border rounded">
  <h3>Edit Canteen Item</h3>
  <app-usp-popup [showPopup]="showSuccessPopup" [message]="successMessage"></app-usp-popup>
  <form (ngSubmit)="updateItem()">
    <div class="mb-2">
      <label>Counter:</label>
      <select class="form-control" [(ngModel)]="selectedItem.counter" name="counter">
        <option value="A">A</option>
        <option value="B">B</option>
        <option value="C">C</option>
        <option value="D">D</option>
      </select>
    </div>
    <div class="mb-2">
      <label>Item Name:</label>
      <input type="text" class="form-control" [(ngModel)]="selectedItem.itemName" name="itemName" required />
    </div>
    <div class="mb-2">
      <label>Price (rupees):</label>
      <input type="number" class="form-control" [(ngModel)]="selectedItem.price" name="price" required />
    </div>
    <button type="submit" class="btn btn-success btn-sm">Update</button>
  </form>
</div> -->

<div class="container">
  <h2>Canteen Menu</h2>

  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    
    <ng-container matColumnDef="itemId">
      <th mat-header-cell *matHeaderCellDef> Item ID </th>
      <td mat-cell *matCellDef="let item"> {{ item.itemId }} </td>
    </ng-container>

    <ng-container matColumnDef="counter">
      <th mat-header-cell *matHeaderCellDef> Counter </th>
      <td mat-cell *matCellDef="let item"> {{ item.counter }} </td>
    </ng-container>

    <ng-container matColumnDef="itemName">
      <th mat-header-cell *matHeaderCellDef> Item Name </th>
      <td mat-cell *matCellDef="let item"> {{ item.itemName }} </td>
    </ng-container>

    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef> Price </th>
      <td mat-cell *matCellDef="let item"> {{ item.price }} </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef> Actions </th>
      <td mat-cell *matCellDef="let item">
        <!-- <button mat-button color="primary" (click)="viewItem(item)">View</button> -->
        <button mat-button color="primary" (click)="editItem(item)">Edit</button>
        <button mat-button color="warn" (click)="deleteItem(item)">Delete</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
        (click)="selectItem(row)" 
        [class.selected]="selectedItem?.itemId === row.itemId">
    </tr>
  </table>
</div>
<!-- 
<div *ngIf="selectedItem" class="edit-form mt-4 p-3 border rounded">
  <h3>Edit Canteen Item</h3>

  <form (ngSubmit)="updateItem()">
    <div class="mb-2">
      <label>Counter:</label>
      <select class="form-control" [(ngModel)]="selectedItem.counter" name="counter">
        <option value="A">A</option>
        <option value="B">B</option>
        <option value="C">C</option>
        <option value="D">D</option>
      </select>
    </div>
    <div class="mb-2">
      <label>Item Name:</label>
      <input type="text" class="form-control" [(ngModel)]="selectedItem.itemName" name="itemName" required />
    </div>
    <div class="mb-2">
      <label>Price (rupees):</label>
      <input type="number" class="form-control" [(ngModel)]="selectedItem.price" name="price" required />
    </div>
    <button type="submit" mat-raised-button color="accent">Update</button>
  </form>
</div> -->

<div class="usp-popup" *ngIf="showSuccessPopup">
  Edited successfully!
</div>